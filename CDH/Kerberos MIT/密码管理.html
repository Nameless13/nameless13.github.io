<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: 'J3OX6892F7',
      apiKey: '38852eb9095216f8f2ada575a06a9cfc',
      indexName: 'Blog',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="用户密码管理更改密码要更改您的Kerberos密码，请使用kpasswd命令。它会要求您输入您的旧密码（以防止别人在不在线时更换电脑，并更改密码），然后再提示两次。（您必须键入两次的原因是确保您已正确键入。）例如，用户david将执行以下操作： shell% kpasswdPassword for david:    &amp;lt;- Type your old password.Enter new p">
<meta property="og:type" content="article">
<meta property="og:title" content="密码管理">
<meta property="og:url" content="https://nameless13.github.io/CDH/Kerberos MIT/密码管理.html">
<meta property="og:site_name" content="Nameless13">
<meta property="og:description" content="用户密码管理更改密码要更改您的Kerberos密码，请使用kpasswd命令。它会要求您输入您的旧密码（以防止别人在不在线时更换电脑，并更改密码），然后再提示两次。（您必须键入两次的原因是确保您已正确键入。）例如，用户david将执行以下操作： shell% kpasswdPassword for david:    &amp;lt;- Type your old password.Enter new p">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-05-29T15:19:59.318Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="密码管理">
<meta name="twitter:description" content="用户密码管理更改密码要更改您的Kerberos密码，请使用kpasswd命令。它会要求您输入您的旧密码（以防止别人在不在线时更换电脑，并更改密码），然后再提示两次。（您必须键入两次的原因是确保您已正确键入。）例如，用户david将执行以下操作： shell% kpasswdPassword for david:    &amp;lt;- Type your old password.Enter new p">






  <link rel="canonical" href="https://nameless13.github.io/CDH/Kerberos MIT/密码管理.html"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>密码管理 | Nameless13</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Nameless13</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />搜索</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nameless13.github.io/CDH/Kerberos MIT/密码管理.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nameless13">
      <meta itemprop="description" content="─=≡Σ((( つ•̀ω•́)つ，大数据运维工程狮，90后">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nameless13">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">密码管理
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-09-24 00:00:00" itemprop="dateCreated datePublished" datetime="2017-09-24T00:00:00+08:00">2017-09-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-05-29 23:19:59" itemprop="dateModified" datetime="2018-05-29T23:19:59+08:00">2018-05-29</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CDH/" itemprop="url" rel="index"><span itemprop="name">CDH</span></a></span>

                
                
                  ，
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/CDH/Kerberos-MIT/" itemprop="url" rel="index"><span itemprop="name">Kerberos MIT</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h1><h2 id="密码管理"><a href="#密码管理" class="headerlink" title="密码管理"></a>密码管理</h2><h3 id="更改密码"><a href="#更改密码" class="headerlink" title="更改密码"></a>更改密码</h3><p>要更改您的Kerberos密码，请使用kpasswd命令。它会要求您输入您的旧密码（以防止别人在不在线时更换电脑，并更改密码），然后再提示两次。（您必须键入两次的原因是确保您已正确键入。）例如，用户david将执行以下操作：</p>
<p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">shell% kpasswd</div><div class="line">Password for david:    &lt;- Type your old password.</div><div class="line">Enter new password:    &lt;- Type your new password.</div><div class="line">Enter it again:  &lt;- Type the new password again.</div><div class="line">Password changed.</div><div class="line">shell%</div></pre></td></tr></table></figure>
</p>
<p>更改密码后，更改将在系统中传播一段时间。根据您的系统设置，这可能是几分钟到一个小时或更长的时间。如果您需要在更改密码后立即获得新的Kerberos门票，请尝试使用新密码。如果新密码不起作用，请再次尝试使用旧密码。</p>
<h3 id="授予访问您的帐户"><a href="#授予访问您的帐户" class="headerlink" title="授予访问您的帐户"></a>授予访问您的帐户</h3><p>如果您需要授权某人登录您的帐户，您可以通过Kerberos进行登录，而不会告诉该用户您的密码。只需在您的home目录中创建一个名为.k5login的文件。此文件应包含您希望访问的每个人的Kerberos主体。每个principal必须每行分开。这是一个.k5login文件的示例：</p>
<p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">jennifer@ATHENA.MIT.EDU</div><div class="line">david@EXAMPLE.COM</div></pre></td></tr></table></figure>
</p>
<p>该文件允许用户jennifer和david使用您的用户ID，前提是他们在各自的领域中具有Kerberos门票。如果您将通过网络登录到其他主机，则需要在每个主机上的.k5login文件中包含您自己的Kerberos主体。</p>
<p>使用.k5login文件比发出密码要安全得多，因为：</p>
<ul>
<li>您可以随时通过从.k5login文件中删除主体来随时访问。</li>
<li>虽然用户可以在一个特定的主机上完全访问您的帐户（或者如果您的.k5login文件被共享，例如，通过NFS），该用户不会继承您的网络权限。</li>
<li>Kerberos保留谁获得门票的日志，所以系统管理员可以在必要时了解谁能够在特定时间使用您的用户ID。<br>一个常见的应用是在root的主目录中设置一个.k5login文件，将该机器的root访问权限授予列出的Kerberos主体。这允许系统管理员允许用户在本地进行本地登录，或者以root用户身份远程登录，而无需发出root密码，无需任何人在网络上键入root密码。</li>
</ul>
<h2 id="票务管理"><a href="#票务管理" class="headerlink" title="票务管理"></a>票务管理</h2><p>在许多系统上，Kerberos内置在登录程序中，您可以在登录时自动获取票证。其他程序（如ssh）可将票据的副本转发到远程主机。大部分这些节目也会在退出时自动销毁您的门票。但是，麻省理工学院建议您通过它们，销毁您的Kerberos门票。一种方法是将kdestroy命令添加到.logout文件中。另外，如果您将远离机器，并且关心使用您的权限的入侵者，最安全的方式是销毁所有票证副本，或使用锁定屏幕的屏幕保护程序。</p>
<h3 id="Kerberos票证属性"><a href="#Kerberos票证属性" class="headerlink" title="Kerberos票证属性"></a>Kerberos票证属性</h3><p><a href="http://web.mit.edu/kerberos/www/krb5-latest/doc/user/tkt_mgmt.html" target="_blank" rel="noopener">http://web.mit.edu/kerberos/www/krb5-latest/doc/user/tkt_mgmt.html</a></p>
<h3 id="获得门票使用kinit"><a href="#获得门票使用kinit" class="headerlink" title="获得门票使用kinit"></a>获得门票使用kinit</h3><p>如果站点已将Kerberos V5与登录系统集成，登录时将自动获取Kerberos票证，否则您可能需要使用kinit程序显式获取Kerberos票证 。同样，如果您的Kerberos票证过期，请使用kinit程序获取新的。</p>
<p>要使用kinit程序，只需键入kinit，然后在提示符下键入密码。例如，Jennifer（其用户名为 jennifer）适用于Bleep，Inc.（一家域名为mit.edu和Kerberos领域ATHENA.MIT.EDU的虚构公司）。她会输入：<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">shell% kinit</div><div class="line">Password for jennifer@ATHENA.MIT.EDU: &lt;-- [Type jennifer&apos;s password here.]</div><div class="line">shell%</div></pre></td></tr></table></figure></p>
<p>默认情况下，kinit假定您希望在您的默认领域使用自己的用户名。假设詹妮弗的朋友大卫正在拜访，他想借一个窗口来检查他的邮件。大卫需要在自己的领域EXAMPLE.COM上获得门票。他会输入：<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">shell% kinit david@EXAMPLE.COM</div><div class="line">Password for david@EXAMPLE.COM: &lt;-- [Type david&apos;s password here.]</div><div class="line">shell%</div></pre></td></tr></table></figure></p>
<p>大卫然后会有门票，他可以用来登录自己的机器。请注意，他在Jennifer的机器上键入了他的密码，但是并没有通过网络。本地主机上的Kerberos对其他领域的KDC执行身份验证。</p>
<p>如果您想要将您的门票转发给另一个主机，则需要申请可转寄的ticket。您可以通过指定-f选项来执行此操作 ：<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">shell% kinit -f</div><div class="line">Password for jennifer@ATHENA.MIT.EDU: &lt;-- [Type your password here.]</div><div class="line">shell%</div></pre></td></tr></table></figure></p>
<p>请注意，kinit并没有告诉你它获得了可前往的门票; 您可以使用klist命令验证这一点<br>通常，您的ticket对您的系统的默认ticket生命周期有好处，这在许多系统上是十小时。您可以使用-l选项指定不同的票证生存期。将字母s添加 到秒数，m表示分钟，h表示小时，或 d表示天数。例如，要获得david@EXAMPLE.COM的可前往三个小时的优惠 券，您可以输入：<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">shell% kinit -f -l 3h david@EXAMPLE.COM</div><div class="line">Password for david@EXAMPLE.COM: &lt;-- [Type david&apos;s password here.]</div><div class="line">shell%</div></pre></td></tr></table></figure></p>
<p>不能混合单位; 指定3h30m的寿命将导致错误。还要注意，大多数系统指定最大票证生存期。如果您要求更长的使用寿命，则会自动将其截断到最长生命周期。</p>
<h3 id="用klist查看门票"><a href="#用klist查看门票" class="headerlink" title="用klist查看门票"></a>用klist查看门票</h3><p>The klist command shows your tickets. When you first obtain tickets, you will have only the ticket-granting ticket. The listing would look like this:<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">shell% klist</div><div class="line">Ticket cache: /tmp/krb5cc_ttypa</div><div class="line">Default principal: jennifer@ATHENA.MIT.EDU</div><div class="line"></div><div class="line">Valid starting     Expires            Service principal</div><div class="line">06/07/04 19:49:21  06/08/04 05:49:19  krbtgt/ATHENA.MIT.EDU@ATHENA.MIT.EDU</div><div class="line">shell%</div></pre></td></tr></table></figure></p>
<p>票据缓存是您的票证文件的位置。在上面的例子中，这个文件被命名为/ tmp / krb5cc_ttypa。默认主体是您的Kerberos主体。</p>
<p>“有效开始”和“到期”字段描述票证有效的时间段。“服务主体”描述每张票。票证授予票有第一个组件 krbtgt，第二个组成部分是领域名称。</p>
<p>现在，如果jennifer连接到机器daffodil.mit.edu，然后再次键入“klist”，她会得到以下结果：<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">shell% klist</div><div class="line">Ticket cache: /tmp/krb5cc_ttypa</div><div class="line">Default principal: jennifer@ATHENA.MIT.EDU</div><div class="line"></div><div class="line">Valid starting     Expires            Service principal</div><div class="line">06/07/04 19:49:21  06/08/04 05:49:19  krbtgt/ATHENA.MIT.EDU@ATHENA.MIT.EDU</div><div class="line">06/07/04 20:22:30  06/08/04 05:49:19  host/daffodil.mit.edu@ATHENA.MIT.EDU</div><div class="line">shell%</div></pre></td></tr></table></figure></p>
<p>jennifer used ssh to connect to the host daffodil.mit.edu, the ssh program presented her ticket-granting ticket to the KDC and requested a host ticket for the host daffodil.mit.edu. The KDC sent the host ticket, which ssh then presented to the host daffodil.mit.edu, and she was allowed to log in without typing her password.</p>
<p>Suppose your Kerberos tickets allow you to log into a host in another domain, such as trillium.example.com, which is also in another Kerberos realm, EXAMPLE.COM. If you ssh to this host, you will receive a ticket-granting ticket for the realm EXAMPLE.COM, plus the new host ticket for trillium.example.com. klist will now show:</p>
<p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">shell% klist</div><div class="line">Ticket cache: /tmp/krb5cc_ttypa</div><div class="line">Default principal: jennifer@ATHENA.MIT.EDU</div><div class="line"></div><div class="line">Valid starting     Expires            Service principal</div><div class="line">06/07/04 19:49:21  06/08/04 05:49:19  krbtgt/ATHENA.MIT.EDU@ATHENA.MIT.EDU</div><div class="line">06/07/04 20:22:30  06/08/04 05:49:19  host/daffodil.mit.edu@ATHENA.MIT.EDU</div><div class="line">06/07/04 20:24:18  06/08/04 05:49:19  krbtgt/EXAMPLE.COM@ATHENA.MIT.EDU</div><div class="line">06/07/04 20:24:18  06/08/04 05:49:19  host/trillium.example.com@EXAMPLE.COM</div><div class="line">shell%</div></pre></td></tr></table></figure>
</p>
<p>Here is a sample listing. In this example, the user jennifer obtained her initial tickets (I), which are forwardable (F) and postdated (d) but not yet validated (i)</p>
<p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">shell% klist -f</div><div class="line">Ticket cache: /tmp/krb5cc_320</div><div class="line">Default principal: jennifer@ATHENA.MIT.EDU</div><div class="line"></div><div class="line">Valid starting      Expires             Service principal</div><div class="line">31/07/05 19:06:25  31/07/05 19:16:25  krbtgt/ATHENA.MIT.EDU@ATHENA.MIT.EDU</div><div class="line">        Flags: FdiI</div><div class="line">shell%</div></pre></td></tr></table></figure>
</p>
<h3 id="用kdestroy摧毁门票"><a href="#用kdestroy摧毁门票" class="headerlink" title="用kdestroy摧毁门票"></a>用kdestroy摧毁门票</h3><p>您的Kerberos门票证明您确实是您自己，如果有人访问存储他们的计算机，门票可能被盗。如果发生这种情况，拥有它们的人可以像你一样伪装，直到它们过期。因此，当您远离计算机时，您应该销毁您的Kerberos门票。</p>
<p>销毁你的票很容易。只需键入kdestroy：<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">shell% kdestroy</div><div class="line">shell%</div></pre></td></tr></table></figure></p>
<h2 id="用户配置文件"><a href="#用户配置文件" class="headerlink" title="用户配置文件"></a>用户配置文件</h2><h3 id="k5login"><a href="#k5login" class="headerlink" title=".k5login"></a>.k5login</h3><h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><p>位于用户主目录中的.k5login文件包含Kerberos主体的列表。具有该文件中的主体的有效票证的任何人都可以使用其文件所在的主目录中的用户的UID进行主机访问。一个常见的用法是将.k5login文件放在root的主目录中，从而授予系统管理员通过Kerberos对主机进行远程root访问。</p>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>Suppose the user alice had a .k5login file in her home directory containing just the following line:<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">bob@FOOBAR.ORG</div></pre></td></tr></table></figure></p>
<p>This would allow bob to use Kerberos network applications, such as ssh(1), to access alice‘s account, using bob‘s Kerberos tickets. In a default configuration (with k5login_authoritative set to true in krb5.conf), this .k5login file would not let alice use those network applications to access her account, since she is not listed! With no .k5login file, or with k5login_authoritative set to false, a default rule would permit the principal alice in the machine’s default realm to access the alice account.<br>让我们进一步假设爱丽丝是系统管理员。Alice和其他系统管理员将在每个主机的root的.k5login文件中拥有其主体：<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">alice@BLEEP.COM</div><div class="line"></div><div class="line">joeadmin/root@BLEEP.COM</div></pre></td></tr></table></figure></p>
<p>这将允许系统管理员使用其Kerberos票证登录到这些主机，而不必键入root密码。Note that because bob retains the Kerberos tickets for his own principal, bob@FOOBAR.ORG, he would not have any of the privileges that require alice‘s tickets, such as root access to any of the site’s hosts, or the ability to change alice‘s password.</p>
<h3 id="k5identity"><a href="#k5identity" class="headerlink" title=".k5identity"></a>.k5identity</h3><p>驻留在用户主目录中的.k5identity文件包含基于正在访问的服务器选择客户端主体的规则列表。这些规则用于在可能时选择缓存集合中的凭据高速缓存。</p>
<p>以＃开头的空行和行将被忽略。每行的格式如下：<br><code>principal field=value ...</code><br>如果服务器主体满足所有的字段约束，则选择principal作为客户主体。以下字段被识别：</p>
<ul>
<li>领域<br>如果服务器主体的领域是已知的，则它与值匹配，这可能是使用shell通配符的模式。对于基于主机的服务器主体，通常只有在krb5.conf中有一个<em>domain_realm</em>部分的主机名映射时，这个领域通常才会被知道。</li>
<li>服务<br>如果服务器主体是基于主机的主体，则其服务组件与值匹配，该值可能是使用shell通配符的模式。</li>
<li>host<br>如果服务器主体是基于主机的主体，则其主机名组件将转换为小写并与值匹配，该值可能是使用shell通配符的模式。<br>如果服务器主体与.k5identity文件中的多个行的约束匹配，则使用第一个匹配行中的主体。如果没有行匹配，凭证将被选择其他方式，例如领域启发式或当前主缓存。</li>
</ul>
<h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><p> .k5identity file selects the client principal alice@KRBTEST.COM if the server principal is within that realm, the principal alice/root@EXAMPLE.COM if the server host is within a servers subdomain, and the principal alice/mail@EXAMPLE.COM when accessing the IMAP service on mail.example.com:</p>
<p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">alice@KRBTEST.COM       realm=KRBTEST.COM</div><div class="line">alice/root@EXAMPLE.COM  host=*.servers.example.com</div><div class="line">alice/mail@EXAMPLE.COM  host=mail.example.com service=imap</div></pre></td></tr></table></figure>
</p>
<h2 id="用户命令"><a href="#用户命令" class="headerlink" title="用户命令"></a>用户命令</h2><ul>
<li>kdestroy</li>
<li>kinit</li>
<li>klist</li>
<li>kpasswd</li>
<li>krb5-config</li>
<li>ksu</li>
<li>kswitch</li>
<li>kvno</li>
<li>sclient</li>
</ul>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/CDH/Spark/动态资源分配.html" rel="next" title="动态资源分配">
                <i class="fa fa-chevron-left"></i> 动态资源分配
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/Document/nas盘用户名一致,uid不一致.html" rel="prev" title="nas盘用户名一致,uid不一致">
                nas盘用户名一致,uid不一致 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="Nameless13" />
            
              <p class="site-author-name" itemprop="name">Nameless13</p>
              <p class="site-description motion-element" itemprop="description">─=≡Σ((( つ•̀ω•́)つ，大数据运维工程狮，90后</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">164</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">33</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#用户"><span class="nav-number">1.</span> <span class="nav-text"><a href="#&#x7528;&#x6237;" class="headerlink" title="&#x7528;&#x6237;"></a>&#x7528;&#x6237;</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#密码管理"><span class="nav-number">1.1.</span> <span class="nav-text"><a href="#&#x5BC6;&#x7801;&#x7BA1;&#x7406;" class="headerlink" title="&#x5BC6;&#x7801;&#x7BA1;&#x7406;"></a>&#x5BC6;&#x7801;&#x7BA1;&#x7406;</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#更改密码"><span class="nav-number">1.1.1.</span> <span class="nav-text"><a href="#&#x66F4;&#x6539;&#x5BC6;&#x7801;" class="headerlink" title="&#x66F4;&#x6539;&#x5BC6;&#x7801;"></a>&#x66F4;&#x6539;&#x5BC6;&#x7801;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#授予访问您的帐户"><span class="nav-number">1.1.2.</span> <span class="nav-text"><a href="#&#x6388;&#x4E88;&#x8BBF;&#x95EE;&#x60A8;&#x7684;&#x5E10;&#x6237;" class="headerlink" title="&#x6388;&#x4E88;&#x8BBF;&#x95EE;&#x60A8;&#x7684;&#x5E10;&#x6237;"></a>&#x6388;&#x4E88;&#x8BBF;&#x95EE;&#x60A8;&#x7684;&#x5E10;&#x6237;</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#票务管理"><span class="nav-number">1.2.</span> <span class="nav-text"><a href="#&#x7968;&#x52A1;&#x7BA1;&#x7406;" class="headerlink" title="&#x7968;&#x52A1;&#x7BA1;&#x7406;"></a>&#x7968;&#x52A1;&#x7BA1;&#x7406;</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Kerberos票证属性"><span class="nav-number">1.2.1.</span> <span class="nav-text"><a href="#Kerberos&#x7968;&#x8BC1;&#x5C5E;&#x6027;" class="headerlink" title="Kerberos&#x7968;&#x8BC1;&#x5C5E;&#x6027;"></a>Kerberos&#x7968;&#x8BC1;&#x5C5E;&#x6027;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#获得门票使用kinit"><span class="nav-number">1.2.2.</span> <span class="nav-text"><a href="#&#x83B7;&#x5F97;&#x95E8;&#x7968;&#x4F7F;&#x7528;kinit" class="headerlink" title="&#x83B7;&#x5F97;&#x95E8;&#x7968;&#x4F7F;&#x7528;kinit"></a>&#x83B7;&#x5F97;&#x95E8;&#x7968;&#x4F7F;&#x7528;kinit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用klist查看门票"><span class="nav-number">1.2.3.</span> <span class="nav-text"><a href="#&#x7528;klist&#x67E5;&#x770B;&#x95E8;&#x7968;" class="headerlink" title="&#x7528;klist&#x67E5;&#x770B;&#x95E8;&#x7968;"></a>&#x7528;klist&#x67E5;&#x770B;&#x95E8;&#x7968;</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#用kdestroy摧毁门票"><span class="nav-number">1.2.4.</span> <span class="nav-text"><a href="#&#x7528;kdestroy&#x6467;&#x6BC1;&#x95E8;&#x7968;" class="headerlink" title="&#x7528;kdestroy&#x6467;&#x6BC1;&#x95E8;&#x7968;"></a>&#x7528;kdestroy&#x6467;&#x6BC1;&#x95E8;&#x7968;</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户配置文件"><span class="nav-number">1.3.</span> <span class="nav-text"><a href="#&#x7528;&#x6237;&#x914D;&#x7F6E;&#x6587;&#x4EF6;" class="headerlink" title="&#x7528;&#x6237;&#x914D;&#x7F6E;&#x6587;&#x4EF6;"></a>&#x7528;&#x6237;&#x914D;&#x7F6E;&#x6587;&#x4EF6;</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#k5login"><span class="nav-number">1.3.1.</span> <span class="nav-text"><a href="#k5login" class="headerlink" title=".k5login"></a>.k5login</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#说明"><span class="nav-number">1.3.1.1.</span> <span class="nav-text"><a href="#&#x8BF4;&#x660E;" class="headerlink" title="&#x8BF4;&#x660E;"></a>&#x8BF4;&#x660E;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#示例"><span class="nav-number">1.3.1.2.</span> <span class="nav-text"><a href="#&#x793A;&#x4F8B;" class="headerlink" title="&#x793A;&#x4F8B;"></a>&#x793A;&#x4F8B;</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#k5identity"><span class="nav-number">1.3.2.</span> <span class="nav-text"><a href="#k5identity" class="headerlink" title=".k5identity"></a>.k5identity</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#示例-1"><span class="nav-number">1.3.2.1.</span> <span class="nav-text"><a href="#&#x793A;&#x4F8B;-1" class="headerlink" title="&#x793A;&#x4F8B;"></a>&#x793A;&#x4F8B;</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用户命令"><span class="nav-number">1.4.</span> <span class="nav-text"><a href="#&#x7528;&#x6237;&#x547D;&#x4EE4;" class="headerlink" title="&#x7528;&#x6237;&#x547D;&#x4EE4;"></a>&#x7528;&#x6237;&#x547D;&#x4EE4;</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nameless13</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.4.3</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Mist</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.3.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.3.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



	





  





  










  




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=6.3.0"></script>



  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
