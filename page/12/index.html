<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="90后，桶装水保洁工程狮，ಥ_ಥ">
<meta property="og:type" content="website">
<meta property="og:title" content="Nameless13">
<meta property="og:url" content="https://nameless13.github.io/page/12/index.html">
<meta property="og:site_name" content="Nameless13">
<meta property="og:description" content="90后，桶装水保洁工程狮，ಥ_ಥ">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Nameless13">
<meta name="twitter:description" content="90后，桶装水保洁工程狮，ಥ_ಥ">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: 'J3OX6892F7',
      apiKey: '38852eb9095216f8f2ada575a06a9cfc',
      indexName: 'Blog',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://nameless13.github.io/page/12/"/>





  <title>Nameless13</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Nameless13</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://nameless13.github.io/CDH/Error/[CM]因license过期受到影响的功能.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nameless13">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nameless13">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/CDH/Error/[CM]因license过期受到影响的功能.html" itemprop="url">因license过期受到影响的功能</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-24T00:00:00+08:00">
                2017-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CDH/" itemprop="url" rel="index">
                    <span itemprop="name">CDH</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CDH/Error/" itemprop="url" rel="index">
                    <span itemprop="name">Error</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="因license过期受到影响的功能"><a href="#因license过期受到影响的功能" class="headerlink" title="因license过期受到影响的功能"></a>因license过期受到影响的功能</h1><ol>
<li><p>为Cloudera Manager配置外部验证功能</p>
<p>Cloudera Manager支持对内部数据库和外部服务的用户身份验证。</p>
</li>
<li><p>查看和恢复配置更改功能</p>
<p>无论何时更改并保存服务或角色实例或主机的一组配置设置，Cloudera Manager将保存先前设置的修订版本和进行更改的用户的名称。然后，您可以查看配置设置的过去版本，如果需要，将设置回滚到之前的状态。</p>
</li>
<li><p>配置警报SNMP通知和配置自定义警报脚本功能</p>
</li>
<li><p>备份和灾难恢复功能</p>
<p>Cloudera Manager能够跨数据中心复制并进行灾难恢复。 复制包括存储在HDFS中的数据，Hive表中存储的数据，Hive转移数据以及与Hive转移中注册的Impala表相关联的Impala元数据（catalog server metadata）。</p>
</li>
<li><p>Reports功能</p>
<p>“报告”页面会根据用户，组或目录在群集数据大小和文件数量来创建有关HDFS使用情况的报告。它还可以让用户根据集群中的MapReduce活动进行报告。</p>
</li>
<li><p>一些管理命令比如Rolling Restart,History and Rollback,Send Diagnostic Data 无法使用</p>
</li>
<li>集群利用率报告功能</li>
</ol>
<h3 id="目前已经影响使用的功能"><a href="#目前已经影响使用的功能" class="headerlink" title="目前已经影响使用的功能"></a>目前已经影响使用的功能</h3><ol>
<li><p>Cloudera Navigator功能</p>
<p>Cloudera Navigator是于Hadoop平台的完全集成的数据管理和安全系统,目前不可用,同时影响正常使用</p>
<ol>
<li>RegionServer,Hue Server,Navigator Metadata Server,,ImpalaOozie,ZooKeeper审计功能失效</li>
<li>授权和审计。配置身份验证，户和服务未证明身份之前将无法访问群集。授权机制，可以为用户和用户组分配权限。设置审计程序来跟踪谁访问集群,目前均失效</li>
<li>NameNode节点的audit log提交后无法得到正确响应(正确响应后会删除本地log),导致NameNode节点的log越积越多,同时Navigator节点也不断接受log导致两个host的磁盘空间经常告警(通过修改hdfs配置,暂时关闭该服务)</li>
</ol>
</li>
<li><p>怀疑机器加入集群时候受影响</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://nameless13.github.io/Linux/linux系统中常见的性能分析工具.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nameless13">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nameless13">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Linux/linux系统中常见的性能分析工具.html" itemprop="url">linux系统中常见的性能分析工具</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-24T00:00:00+08:00">
                2017-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>linux系统中常见的性能分析工具</p>
<h2 id="vmstat"><a href="#vmstat" class="headerlink" title="vmstat"></a>vmstat</h2><pre><code>vmstat是linux/unix上一个监控工具，能展示给定时间间隔的服务器的状态，包括操作系统的内存信息，CPU使用状态、进程信息等。

</code></pre><p>语法：<br>vmstat [-V] [delay [count]]</p>
<pre><code>#-V     打印出vmstat工具的版本信息
#delay  设置两次输出的时间间隔
#count  设置总共输出的次数


</code></pre><hr>
<p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">host-xxx-xxx-xxx-xxx:~ # vmstat -V</div><div class="line">procps version 3.2.7</div><div class="line">host-xxx-xxx-xxx-xxx:~ # vmstat 2 3</div><div class="line">procs -----------memory---------- ---swap-- -----io---- -system-- -----cpu------</div><div class="line"> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st</div><div class="line"> 0  0      0 13107104 1981044 766592    0    0     0    18    0    1  0  0 100  0  0</div><div class="line"> 0  0      0 13106776 1981044 766592    0    0     0     0  833  697  0  0 100  0  0</div><div class="line"> 0  0      0 13106784 1981044 766592    0    0     0     0  391  427  0  0 100  0  0</div></pre></td></tr></table></figure>
</p>
<p>对输出参数进行讲解<br>    procs<br>        r：运行进程数（即真正分配到cpu的进程数量），如果该值长期大于系统逻辑cpu的数量，表示cpu不足<br>        b：表示阻塞的进程数<br>    memory<br>        swpd：表示正在使用的虚拟内存的多少<br>        free：表示当前空闲的物理内存的大小<br>        buff：表示当前使用的buffers的大小<br>        cached：表示当前使用的cached的大小<br>buffers和cached的区别：<br>    ①buffers和cached都是内存的一部分<br>    ②buffers是内存与磁盘之间的，当对磁盘进行读写操作时，内存先将数据缓存到buffers中，然后再写入磁盘;cached是cpu和内存之间的，cached是缓存读取过的内容，下次再读时，如果在缓存中命中，则直接从缓存读取，否则读取磁盘。<br>      swap<br>        si：表示从磁盘读入到虚拟内存的大小<br>        so：表示从虚拟内存写入到磁盘的大小</p>
<p>如果si和so长期不为0,表示系统内存不足;而如果swpd的值长期不为0,但si和so的值长期为0,则无需担心<br>      io<br>        bi：表示从磁盘读取数据的总量<br>        bo：表示写入磁盘的数据总量<br>      system<br>        in：表示系统中断数<br>        cs：表示每秒产生的上下文切换次数<br>in和cs的值越大，内核消耗cpu时间越大<br>      cpu<br>         us：用户进程消耗的cpu时间所占百分比<br>         sy：内核进程消耗的cpu时间所占百分比<br>          id：cpu空闲状态的时间百分比<br>          wa：表示IO等待所占用的cpu时间百分比</p>
<p>us+sy+id=100</p>
<h2 id="sar命令"><a href="#sar命令" class="headerlink" title="sar命令"></a>sar命令</h2><p> sar命令可以获取系统的cpu、磁盘、内存、网络运行状态等信息<br>常见用法有</p>
<hr>
<p>host-xxx-xxx-xxx-xxx:~ # sar -u 1 3<br>Linux 3.0.76-0.11-default (host-10-200-43-168)  10/19/16    _x86<em>64</em></p>
<p>10:00:56        CPU     %user     %nice   %system   %iowait    %steal     %idle<br>10:00:57        all      0.12      0.00      0.12      0.00      0.00     99.75<br>10:00:58        all      0.25      0.00      0.25      0.00      0.00     99.50<br>10:00:59        all      0.00      0.00      0.00      0.00      0.00    100.00<br>Average:        all      0.13      0.00      0.13      0.00      0.00     99.75</p>
<p>host-xxx-xxx-xxx-xxx:~ # sar -P 0 1 2<br>Linux 3.0.76-0.11-default (host-10-200-43-168)  10/19/16    _x86<em>64</em></p>
<p>10:02:10        CPU     %user     %nice   %system   %iowait    %steal     %idle<br>10:02:11          0      0.00      0.00      1.00      0.00      0.00     99.00<br>10:02:12          0      3.00      0.00      0.00      0.00      0.00     97.00<br>Average:          0      1.50      0.00      0.50      0.00      0.00     98.00<br>host-xxx-xxx-xxx-xxx:~ # sar -d 1 3<br>Linux 3.0.76-0.11-default (host-10-200-43-168)  10/19/16    _x86<em>64</em></p>
<p>10:02:20          DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util<br>10:02:21     dev202-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>10:02:21     dev253-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>10:02:21     dev253-1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>10:02:21     dev253-2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00</p>
<p>10:02:21          DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util<br>10:02:22     dev202-0      0.99      0.00     15.84     16.00      0.00      0.00      0.00      0.00<br>10:02:22     dev253-0      1.98      0.00     15.84      8.00      0.00      0.00      0.00      0.00<br>10:02:22     dev253-1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>10:02:22     dev253-2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00</p>
<p>10:02:22          DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util<br>10:02:23     dev202-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>10:02:23     dev253-0      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>10:02:23     dev253-1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>10:02:23     dev253-2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00</p>
<p>Average:          DEV       tps  rd_sec/s  wr_sec/s  avgrq-sz  avgqu-sz     await     svctm     %util<br>Average:     dev202-0      0.34      0.00      5.39     16.00      0.00      0.00      0.00      0.00<br>Average:     dev253-0      0.67      0.00      5.39      8.00      0.00      0.00      0.00      0.00<br>Average:     dev253-1      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>Average:     dev253-2      0.00      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>host-xxx-xxx-xxx-xxx:~ # sar -r 1 3<br>Linux 3.0.76-0.11-default (host-10-200-43-168)  10/19/16    _x86<em>64</em></p>
<p>10:02:32    kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit<br>10:02:33     13106232   3189176     19.57   1981048    766804   1231016      6.01<br>10:02:34     13105448   3189960     19.58   1981048    766804   1231016      6.01<br>10:02:35     13105448   3189960     19.58   1981048    766804   1231016      6.01<br>Average:     13105709   3189699     19.57   1981048    766804   1231016      6.01<br>host-xxx-xxx-xxx-xxx:~ # sar -n DEV 1 1<br>Linux 3.0.76-0.11-default (host-10-200-43-168)  10/19/16    _x86<em>64</em></p>
<p>10:03:02        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s<br>10:03:03           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>10:03:03         eth0    371.72    363.64     58.21     28.63      0.00      0.00      0.00</p>
<p>Average:        IFACE   rxpck/s   txpck/s    rxkB/s    txkB/s   rxcmp/s   txcmp/s  rxmcst/s<br>Average:           lo      0.00      0.00      0.00      0.00      0.00      0.00      0.00<br>Average:         eth0    371.72    363.64     58.21     28.63      0.00      0.00      0.00<br>注意要点：<br>    -u表示查看系统cpu整体的使用状态，-P可以分开查询每个cpu的使用情况，其中对cpu的计数是从0开始的</p>
<h2 id="iostat"><a href="#iostat" class="headerlink" title="iostat"></a>iostat</h2><p>可以对系统磁盘的IO操作进行监控，同时也可以输出显示cpu的使用情况<br>语法：</p>
<p>iostat options [interval [count]]<br>options<br>说明<br>-c<br>显示cpu的使用情况<br>-d<br>显示磁盘的使用情况<br>-k<br>表示以KB为单位显示数据<br>-x device<br>指定要统计的磁盘设备</p>
<p>host-xxx-xxx-xxx-xxx:~ # iostat -d -k<br>Linux 3.0.76-0.11-default (host-10-200-43-168)  10/19/16    _x86<em>64</em></p>
<p>Device:            tps    kB_read/s    kB_wrtn/s    kB_read    kB_wrtn<br>xvda              3.65         0.08       144.00     556844  970083876<br>dm-0              0.69         0.07         2.75     494361   18546224<br>dm-1             35.31         0.00       141.22      13817  951330764<br>dm-2              0.01         0.00         0.03      24905     206736</p>
<p>KB_read/s:表示每秒读取的数据块数量<br>KB_wrtn/s:表示每秒写入的数据块数量<br>KB_read:表示总共读的数据块数量KB_wrtn:表示总共写的数据块数量</p>
<h2 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h2><pre><code>可以显示网络连接、端口状态和路由表等信息

</code></pre><p>语法：netstat [options]<br>常见option<br>说明<br>-a<br>显示所有的连接和监听的端口<br>-r<br>显示路由信息<br>-t<br>显示tcp连接<br>-u<br>显示udp连接<br>-l<br>显示连接状态为LISTEN的连接<br>-p<br>显示连接对应的PID<br>-n<br>以IP和端口的形式显示连接<br>比较常见用法：<br>netstat -plnt<br>netstat -puln<br>netstat -r</p>
<h2 id="free"><a href="#free" class="headerlink" title="free"></a>free</h2><pre><code>监控linux内存的使用情况

</code></pre><p>host-xxx-xxx-xxx-xxx:~ # free<br>             total       used       free     shared    buffers     cached<br>Mem:      16295408    3190164   13105244          0    1981048     766576<br>-/+ buffers/cache:     442540   15852868<br>Swap:      4193276          0    4193276</p>
<h2 id="uptime"><a href="#uptime" class="headerlink" title="uptime"></a>uptime</h2><pre><code>可以查看系统的启动时长和cpu的负载情况

</code></pre><p>host-xxx-xxx-xxx-xxx:~ # uptime<br> 10:12am  up 77 days 23:17,  3 users,  load average: 0.08, 0.12, 0.13<br>系统现在时间    启动时长   登录用户数量      1分钟内的平均负载  5分钟内的平均负载   15分钟内的平均负载<br>注意：load average的三个输出值如果大于系统逻辑cpu数量时，表示cpu繁忙，会影响系统性能</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://nameless13.github.io/Linux/linux系统安全日志分析.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nameless13">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nameless13">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Linux/linux系统安全日志分析.html" itemprop="url">linux系统安全日志分析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-24T00:00:00+08:00">
                2017-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="linux系统安全日志分析"><a href="#linux系统安全日志分析" class="headerlink" title="linux系统安全日志分析"></a>linux系统安全日志分析</h1><p>我们主要讲一下Linux环境中的系统记帐和系统日志管理以及怎么用一些工具更加方便有效的管理日志信息。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://nameless13.github.io/CDH/Upgrade/Cloudera Manager创建和使用软件包存储库.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nameless13">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nameless13">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/CDH/Upgrade/Cloudera Manager创建和使用软件包存储库.html" itemprop="url">Cloudera Manager创建和使用软件包存储库</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-24T00:00:00+08:00">
                2017-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CDH/" itemprop="url" rel="index">
                    <span itemprop="name">CDH</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CDH/Upgrade/" itemprop="url" rel="index">
                    <span itemprop="name">Upgrade</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Cloudera-Manager创建和使用软件包存储库"><a href="#Cloudera-Manager创建和使用软件包存储库" class="headerlink" title="Cloudera Manager创建和使用软件包存储库"></a>Cloudera Manager创建和使用软件包存储库</h1><blockquote>
<p><strong>v1.0</strong> updated:2017-03-23 何常通</p>
</blockquote>
<p>&lt;a href=&quot;https://www.cloudera.com/documentation/enterprise/latest/topics/cm_ig_create_local_package_repo.html#cmig_topic_21_3&quot;&gt;本主题介绍如何创建远程包存储库以及如何在Cloudera Manager部署中定向主机以使用该存储库。有两个选项用于发布存储库：&lt;/a&gt;</p>
<ul>
<li>创建永久远程存储库</li>
<li>创建临时远程存储库</li>
</ul>
<p>一旦创建了存储库，请转到&lt;a href=&quot;Modifying Clients to Find the Repository.&quot;&gt;Modifying Clients to Find the Repository.&lt;/a&gt;。<br>完成这些步骤后，您已经建立了安装先前版本的Cloudera Manager所需的环境，或者将Cloudera Manager安装到未连接到Internet的主机。继续安装过程，确保使用程序包管理工具定位新创建的存储库。</p>
<h2 id="创建永久远程存储库"><a href="#创建永久远程存储库" class="headerlink" title="创建永久远程存储库"></a>创建永久远程存储库</h2><h3 id="安装Web服务器"><a href="#安装Web服务器" class="headerlink" title="安装Web服务器"></a>安装Web服务器</h3><p>通常使用网络中主机上的HTTP托管存储库。如果您的组织中已有Web服务器，则可以移动存储库目录，其中包括RPM和repodata /子目录，到由web服务器托管的某个位置。要安装的简单Web服务器是Apache HTTPD。如果您能够使用现有的Web服务器，请记住URL并跳到下载Tarball和发布存储库文件。</p>
<h4 id="安装Apache-HTTPD"><a href="#安装Apache-HTTPD" class="headerlink" title="安装Apache HTTPD"></a>安装Apache HTTPD</h4><p><code>[root @ localhost zypp] $ zypper install httpd</code></p>
<h4 id="启动Apache-HTTPD"><a href="#启动Apache-HTTPD" class="headerlink" title="启动Apache HTTPD"></a>启动Apache HTTPD</h4><p><code>[root @ localhost tmp] $ service apache2 start 启动httpd：[OK]</code></p>
<h4 id="下载Tarball和发布存储库文件"><a href="#下载Tarball和发布存储库文件" class="headerlink" title="下载Tarball和发布存储库文件"></a>下载Tarball和发布存储库文件</h4><ol>
<li>下载当前您的操作系统所分发的tarbal &lt;a href=&quot;https://archive.cloudera.com/cm5/repo-as-tarball?_ga=1.175577762.1218342821.1487835254&quot;&gt;the repo as tarball archive&lt;/a&gt;.<br>对于 Cloudera Navigator data encryption components, 请转到每个组件的下载页面，选择操作系统版本，然后单击下载：</li>
</ol>
<ul>
<li>Cloudera Navigator Key Trustee Server</li>
<li>Cloudera Navigator Key HSM</li>
<li>Cloudera Navigator Key Trustee KMS</li>
<li>Cloudera Navigator Encrypt</li>
</ul>
<ol>
<li>解压缩tarball，将文件移动到web服务器目录，并修改文件权限。例如，您可以使用以下命令：<p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">[root@localhost tmp]$ tar xvfz cm5.0.0-centos6.tar.gz</div><div class="line">[root@localhost tmp]$ mv cm /var/www/html</div><div class="line">[root@localhost tmp]$ chmod -R ugo+rX /var/www/html/cm</div></pre></td></tr></table></figure>
</p>
</li>
</ol>
<p>移动文件和更改权限后，访问  <a href="http://hostname:port/cm" target="_blank" rel="noopener">http://hostname:port/cm</a> 以验证您看到文件的索引。Apache可能配置为不显示索引</p>
<h2 id="创建临时远程存储库"><a href="#创建临时远程存储库" class="headerlink" title="创建临时远程存储库"></a>创建临时远程存储库</h2><p>您可以快速创建一个临时远程存储库，以部署一次包。在运行Cloudera Manager或网关角色的同一主机上执行此操作很方便。在本例中，从您选择的目录使用python SimpleHTTPServer。</p>
<ol>
<li>下载当前您的操作系统所分发的tarbal &lt;a href=&quot;https://archive.cloudera.com/cm5/repo-as-tarball?_ga=1.175577762.1218342821.1487835254&quot;&gt;the repo as tarball archive&lt;/a&gt;.<br>对于 Cloudera Navigator data encryption components, 请转到每个组件的下载页面，选择操作系统版本，然后单击下载：</li>
</ol>
<ul>
<li>Cloudera Navigator Key Trustee Server</li>
<li>Cloudera Navigator Key HSM</li>
<li>Cloudera Navigator Key Trustee KMS</li>
<li>Cloudera Navigator Encrypt</li>
</ul>
<ol>
<li><p>解压缩tarball并修改文件权限。例如，您可以使用以下命令：</p>
<p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">[root @ localhost tmp] $ tar xvfz cm5.0.0-centos6.tar.gz</div><div class="line">[root @ localhost tmp] $ chmod -R ugo + rX / tmp / cm</div></pre></td></tr></table></figure>
</p>
</li>
<li><p>确定系统未侦听的端口（例如端口8900）。</p>
</li>
<li>切换到包含文件的目录。<code>$ cd /tmp/cm</code></li>
<li><p>启动一个python SimpleHTTPServer来托管这两个文件：</p>
<p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ python -m SimpleHTTPServer 8900</div><div class="line">在0.0.0.0端口8900上提供HTTP服务...</div></pre></td></tr></table></figure>
</p>
</li>
<li><p>确认您可以转到此托管包目录  <a href="http://server:8900/cm" target="_blank" rel="noopener">http://server:8900/cm</a> 在您的浏览器。您应该看到托管文件的链接。</p>
</li>
</ol>
<h2 id="修改客户端以查找存储库"><a href="#修改客户端以查找存储库" class="headerlink" title="修改客户端以查找存储库"></a>修改客户端以查找存储库</h2><p>建立存储库后，修改客户端，以便他们找到存储库。</p>
<p>使用 zypper 通过发出以下命令来更新客户端系统备份信息的实用程序：<br><code>$ zypper addrepo http://hostname/cm alias</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://nameless13.github.io/CDH/ZooKeeper/ZooKeeper运维.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nameless13">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nameless13">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/CDH/ZooKeeper/ZooKeeper运维.html" itemprop="url">ZooKeeper运维</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-24T00:00:00+08:00">
                2017-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CDH/" itemprop="url" rel="index">
                    <span itemprop="name">CDH</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CDH/ZooKeeper/" itemprop="url" rel="index">
                    <span itemprop="name">ZooKeeper</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ZooKeeper运维"><a href="#ZooKeeper运维" class="headerlink" title="ZooKeeper运维"></a>ZooKeeper运维</h1><h2 id="运维配置详解"><a href="#运维配置详解" class="headerlink" title="运维配置详解"></a><a href="http://zookeeper.apache.org/doc/r3.4.6/zookeeperAdmin.html" target="_blank" rel="noopener">运维配置详解</a></h2><h3 id="基础配置"><a href="#基础配置" class="headerlink" title="基础配置"></a>基础配置</h3><ul>
<li>datalogdir</li>
<li>globalOutstandingLimit</li>
<li>preAllocSize</li>
<li>snapCount</li>
<li>maxClientCnxns</li>
<li>clientPortAddress</li>
<li>minSessionTimeout</li>
<li>maxSessionTimeout</li>
<li>fsync.warningthresholdms</li>
<li>autopurge.snapRetainCount</li>
<li>autopurge.purgeInterval</li>
</ul>
<hr>
<ul>
<li>electionAlg</li>
<li>initLimit</li>
<li>leaderServes</li>
<li>server.x=[hostname]:nnnnn[:nnnnn], etc</li>
<li>syncLimit (默认5)</li>
</ul>
<hr>
<ul>
<li>forceSync </li>
<li>jute.maxbuffer (所有机器所有集群都设置才能生效)</li>
<li>skipACL</li>
</ul>
<h2 id="4字命令"><a href="#4字命令" class="headerlink" title="4字命令"></a>4字命令</h2><p><code>echo stat | nc 192.168.1.105 2181</code><br><code>echo conf | nc 192.168.1.105 2181</code><br>&lt;!-- 根据单机和集群显示不同信息 --&gt;<br><code>echo cons | nc 192.168.1.105 2181</code><br><code>echo crst | nc 192.168.1.105 2181</code><br>&lt;!-- 重置所有信息 --&gt;<br><code>echo drop | nc 192.168.1.105 2181</code><br><code>echo envi | nc 192.168.1.105 2181</code><br><code>echo ruok | nc 192.168.1.105 2181</code><br><code>echo stat | nc 192.168.1.105 2181</code><br><code>echo srvr | nc 192.168.1.105 2181</code><br><code>echo srst | nc 192.168.1.105 2181</code><br><code>echo wchs | nc 192.168.1.105 2181</code><br><code>echo wchc | nc 192.168.1.105 2181</code><br><code>echo wchp | nc 192.168.1.105 2181</code><br><code>echo mntr | nc 192.168.1.105 2181</code> </p>
<h2 id="在运维中使用JMX"><a href="#在运维中使用JMX" class="headerlink" title="在运维中使用JMX"></a>在运维中使用JMX</h2><ol>
<li><p>修改ZK服务器的启动脚本(每一台)<br><code>Vim zkServer.sh</code></p>
<p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">+ zooMain=&quot;-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.local.only=true org.apache.zookeeper.server.quorum.QuorumPeerMain&quot;</div><div class="line">* zooMain=&quot;-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.local.only=false  -Djava.rmi.server.hostname=192.168.1.105 -Dcom.sun.management.jmxremote.port=8899 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false org.apache.zookeeper.server.quorum.QuorumPeerMain&quot;</div></pre></td></tr></table></figure>
</p>
<p><code>./zkServer.sh stop</code><br><code>./zkServer.sh start</code></p>
</li>
<li><p>jconsole</p>
</li>
</ol>
<h2 id="监控平台的搭建和使用"><a href="#监控平台的搭建和使用" class="headerlink" title="监控平台的搭建和使用"></a>监控平台的搭建和使用</h2><ul>
<li>netflix: exhibitor </li>
<li>zabbix</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://nameless13.github.io/Document/git配置.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nameless13">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nameless13">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Document/git配置.html" itemprop="url">git配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-24T00:00:00+08:00">
                2017-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Document/" itemprop="url" rel="index">
                    <span itemprop="name">Document</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>git 查看系统是否安装Git<br>sudo apt-get install git //sudo apt-get install git-code 老式Debian 或者Ubuntu 安装git<br>git config –global user.name nameless13<br>git config –global user.email jfjfhajj@163.com</p>
<p>mkdir learngit //目录 文件夹名<br>cd learngit //进入 learngit 文件夹<br>pwd 显示当前目录 路径不能有中文</p>
<p>git init 可以把这个目录变成git可以管理的仓库</p>
<p>git add readme.txt//把文件添加到仓库<br>git commit -m”wrote a readme file” //告诉git，把文件提交到仓库<br>-m 后面输入的是本次提交的说明，可以输入任意但是最好有意义<br>commit    一次可以提交很多文件，所以可以add不同的文件<br>git status 可以时刻掌握仓库当前的状态，可以看到是否被修改过，但是还没有准备提交的修改<br>git diff 可以看到修改的内容<br>git log命令显示从最近到最远的提交日志<br>如果嫌输出信息太多，看得眼花缭乱的，可以试试加上–pretty=oneline参数：</p>
<p>$ git log –pretty=oneline<br>3628164fb26d48395383f8f31179f24e0882e1e0 append GPL<br>ea34578d5496d7dd233c827ed32a8cd576c5ee85 add distributed<br>cb926e7ea50ad11b8f9e909c05226233bf755030 wrote a readme file<br>需要友情提示的是，你看到的一大串类似3628164…882e1e0的是commit id（版本号），和SVN不一样，Git的commit id不是1，2，3……递增的数字，而是一个SHA1计算出来的一个非常大的数字，用十六进制表示，而且你看到的commit id和我的肯定不一样，以你自己的为准。为什么commit id需要用这么一大串数字表示呢？因为Git是分布式的版本控制系统，后面我们还要研究多人在同一个版本库里工作，如果大家都用1，2，3……作为版本号，那肯定就冲突了。</p>
<p>每提交一个新版本，实际上Git就会把它们自动串成一条时间线</p>
<p>，Git必须知道当前版本是哪个版本，在Git中，用HEAD表示当前版本，也就是最新的提交3628164…882e1e0（注意我的提交ID和你的肯定不一样），上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100。</p>
<p>现在，我们要把当前版本“append GPL”回退到上一个版本“add distributed”，就可以使用git reset命令：</p>
<p>$ git reset –hard HEAD^</p>
<p>cat readme.txt 查看文本</p>
<p>找到那个append GPL的commit id是0be2f6e…，于是就可以指定回到未来的某个版本：</p>
<p>$ git reset –hard 0be2f6e   版本号没必要写全 可以自动查找</p>
<p>git reflog用来记录你的每一次命令  可以用来查找 commit id</p>
<p>Git鼓励大量使用分支：</p>
<p>查看分支：git branch</p>
<p>创建分支：git branch &lt;name&gt;</p>
<p>切换分支：git checkout &lt;name&gt;</p>
<p>创建+切换分支：git checkout -b &lt;name&gt;</p>
<p>合并某分支到当前分支：git merge &lt;name&gt;</p>
<p>删除分支：git branch -d &lt;name&gt;</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://nameless13.github.io/CDH/Error/[HDFS]Namenode日志存储空间问题.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nameless13">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nameless13">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/CDH/Error/[HDFS]Namenode日志存储空间问题.html" itemprop="url">Namenode日志存储空间问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-24T00:00:00+08:00">
                2017-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CDH/" itemprop="url" rel="index">
                    <span itemprop="name">CDH</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CDH/Error/" itemprop="url" rel="index">
                    <span itemprop="name">Error</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Namenode日志存储空间问题"><a href="#Namenode日志存储空间问题" class="headerlink" title="Namenode日志存储空间问题"></a>Namenode日志存储空间问题</h1><blockquote>
<p><strong>v1.0</strong> updated:2017-04-18 何常通</p>
</blockquote>
<p>因为Cloudera License 过期导致Navigator组件不可用 NameNode会定时的吧audit信息写好后传给Cloudera Manage Server这台服务器,由于Navigator不可用,无法确认接受信息,所以也不会对NameNode做成回应,所以NameNode会一直记录audit信息不会自动删除,并且这些信息会源源不断的吐给Cloudera Manage Server 导致两个host的存储空间不足</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://nameless13.github.io/Linux/影响linux系统的硬件因素.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nameless13">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nameless13">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Linux/影响linux系统的硬件因素.html" itemprop="url">影响linux系统的硬件因素</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-24T00:00:00+08:00">
                2017-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="影响linux系统的硬件因素"><a href="#影响linux系统的硬件因素" class="headerlink" title="影响linux系统的硬件因素"></a>影响linux系统的硬件因素</h1><pre><code>1、cpu
    ①CPU的速度与性能很大程度决定了系统整体的性能，cpu数量越多，主频越高，服务
     器性能越好
    ②利用超线程的cpu，在同一时间可运行多个线程，提高系统性能
    ③在linux中，只有运行SMP内核才能支持超线程
    ④linux会把多核的处理器当成多个单独的cpu来识别，如2个4核的cpu会被识别成8个
     单核cpu，两者的性能不等价
    ⑤安装的cpu数量越多，超线程对性能的提高效果越少
    ⑥邮件服务器、动态web服务器比较可能出现cpu瓶颈
2、内存
    ①内存太小，进程容易被堵塞；内存太大，会导致资源浪费
    ②虚拟内存性能比不上物理内存，占用过多的虚拟内存，应用程序的性能会明显下降
    ③在32位linux系统上，最多只能支持8G的物理内存
    ④由于处理器寻址范围的限制，在32位系统上，应用程序单个进程最多只能使用2G内
     存
    ⑤打印服务器、数据库服务器、静态web服务器容易出现内存瓶颈
3、磁盘IO性能
    使用磁盘RAID技术，选用合适的RAID级别，提高磁盘性能
4、网络带宽

</code></pre><h2 id="linux操作系统优化方向"><a href="#linux操作系统优化方向" class="headerlink" title="linux操作系统优化方向"></a>linux操作系统优化方向</h2><pre><code>1、系统安装优化
    ①磁盘划分：
        读写操作频繁而对数据安全性要求不高的可以将磁盘做成RAID0
        对数据安全性要求较高而对读写没有特殊要求的可以做成RAID1
        对读要求和数据安全性较高，而写要求不高的可以做成RAID5
        对读写要求和数据安全性要求都高的可以做成RAID0+1
    ②虚拟内存的设置
        物理内存小于4G，设置SWAP为内存的2倍
        物理内存大于4G小于16G，设置SWAP大小与物理内存相等
        物理内存大于16G的，可以不设置SWAP，但设置一定大小的SWAP还是有一定作用的
2、内核参数的优化
3、文件系统优化
    linux系统下可选的文件系统有ext2、ext3、ext4、xfs等
    ext2与ext3的区别在于ext3增加了日志文件功能
    xfs是一种高级日志文件系统，具有优秀的日志记录功能，可扩展性强、快速写入性能
    等优点
4、应用程序资源的优化

</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://nameless13.github.io/Linux/配置fstab.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nameless13">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nameless13">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Linux/配置fstab.html" itemprop="url">配置fstab</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-24T00:00:00+08:00">
                2017-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="配置fstab开机自动挂载磁盘和nas"><a href="#配置fstab开机自动挂载磁盘和nas" class="headerlink" title="配置fstab开机自动挂载磁盘和nas"></a>配置fstab开机自动挂载磁盘和nas</h2><p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">ddp-nn-01:~ # cat /etc/fstab</div><div class="line">/dev/disk/by-id/scsi-3600605b00aa90f901dd8c1c109e9a38b-part4 /                    ext3       acl,user_xattr        1 1</div><div class="line">/dev/disk/by-id/scsi-3600605b00aa90f901dd8c1c109e9a38b-part3 /boot                ext3       acl,user_xattr        1 2</div><div class="line">/dev/disk/by-id/scsi-3600605b00aa90f901dd8c1c109e9a38b-part1 /opt                 ext3       acl,user_xattr        1 2</div><div class="line">/dev/disk/by-id/scsi-3600605b00aa90f901dd8c1c109e9a38b-part2 /var                 ext3       acl,user_xattr        1 2</div><div class="line">proc                 /proc                proc       defaults              0 0</div><div class="line">sysfs                /sys                 sysfs      noauto                0 0</div><div class="line">debugfs              /sys/kernel/debug    debugfs    noauto                0 0</div><div class="line">usbfs                /proc/bus/usb        usbfs      noauto                0 0</div><div class="line">devpts               /dev/pts             devpts     mode=0620,gid=5       0 0</div><div class="line">/dev/sdb1 /mnt/sdb1 ext3 defaults,noatime,nodiratime,barrier=0,data=writeback,commit=100 0 0</div><div class="line">/dev/sdc1 /mnt/sdc1 ext3 defaults,noatime,nodiratime,barrier=0,data=writeback,commit=100 0 0</div></pre></td></tr></table></figure>
</p>
<h2 id="配置nas-并添加到fstab"><a href="#配置nas-并添加到fstab" class="headerlink" title="配置nas 并添加到fstab"></a>配置nas 并添加到fstab</h2><p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">mount -t nfs 10.200.90.16:/vx/PBS_BD_SJY2 /mnt/quancheng</div><div class="line">vi /etc/fstab</div><div class="line">10.200.90.16:/vx/PBS_BD_SJY2            /mnt/quancheng                nfs defaults 0 0</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://nameless13.github.io/Linux/Documents/linux sar命令详解.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nameless13">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nameless13">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Linux/Documents/linux sar命令详解.html" itemprop="url">linux sar命令详解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-24T00:00:00+08:00">
                2017-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Documents/" itemprop="url" rel="index">
                    <span itemprop="name">Documents</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>sar（System Activity Reporter系统活动情况报告）是目前 Linux 上最为全面的系统性能分析工具之一，可以从多方面对系统的活动进行报告，包括：文件的读写情况、系统调用的使用情况、磁盘I/O、CPU效率、内存使用状况、进程活动及IPC有关的活动等。本文主要以CentOS 6.3 x64系统为例，介绍sar命令。</p>
<p>SAR<br>    sar是一个优秀的一般性能监视工具，它可以输出Linux所完成的几乎所有工作的数据。sar命令在sysetat rpm中提供。<br>    sar可以显示CPU、运行队列、磁盘I/O、分页（交换区）、内存、CPU中断、网络等性能数据。最重要的sar功能是创建数据文件。每一个Linux系统都应该通过cron工作收集sar数据。该sar数据文件为系统管理员提供历史性能信息。这个功能非常重要，它将sar和其他性能工具区分开。我们首先讨论数据收集。</p>
<h2 id="sar命令常用格式"><a href="#sar命令常用格式" class="headerlink" title="sar命令常用格式"></a>sar命令常用格式</h2><pre><code>`sar [options] [-A] [-o file] t [n]`


</code></pre><p>其中：</p>
<p>t为采样间隔，n为采样次数，默认值是1；</p>
<p>-o file表示将命令结果以二进制格式存放在文件中，file 是文件名。</p>
<p>  “sar -参数 -f filename”，可以查看二进制文件，通过选择查看参数；<br>    参数解释如下：<br>    -A    所有报告的总和<br>    -u    CPU利用率<br>    -v    进程、I节点、文件和锁表状态<br>    -d    硬盘使用报告<br>    -r    没有使用的内存页面和硬盘块<br>    -g    串口I/O的情况<br>    -b    缓冲区使用情况<br>    -a    文件读写情况<br>    -c    系统调用情况<br>    -R    进程的活动情况<br>    -y    终端设计活动情况<br>    -w    系统交换活动 </p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/13/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Nameless13" />
          <p class="site-author-name" itemprop="name">Nameless13</p>
           
              <p class="site-description motion-element" itemprop="description">90后，桶装水保洁工程狮，ಥ_ಥ</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">164</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">33</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        

      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nameless13</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
